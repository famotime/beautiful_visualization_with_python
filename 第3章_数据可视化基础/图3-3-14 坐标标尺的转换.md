# 图3-3-14 坐标标尺的转换

```python
import pandas as pd
import numpy as np
from plotnine import *
# from plotnine.data import *
import matplotlib.pyplot as plt
import matplotlib
# plt.rc('font',family='Times New Roman')
matplotlib.rcParams['font.family'] = 'Times New Roman'

df = pd.read_csv("logarithmic_scale.csv")
df_melt = pd.melt(df, id_vars='VIN(V)', var_name='Class', value_name='value')
display(df, df_melt)
```
```
    VIN(V)      NFET      PEET
0  -20.000  0.357000  1.640000
1  -18.500  0.223000  0.850000
2  -17.400  0.127000  0.585000
3  -15.800  0.059500  0.403000
4  -14.500  0.019100  0.278000
5  -13.700  0.007390  0.144000
6  -12.600  0.001960  0.081900
7  -11.500  0.002160  0.038600
8  -11.000  0.000571  0.018100
9  -10.400  0.000324  0.004390
10  -9.510  0.000325  0.007100
11  -8.850  0.000167  0.001550
12  -7.100  0.000105  0.000724
13  -5.790  0.000170  0.001070
14  -3.830  0.000334  0.000256
15  -3.170  0.000955  0.000284
16  -2.080  0.000542  0.000109
17  -0.984  0.002280  0.000042
18  -0.109  0.000969  0.000083
19   1.420  0.003370  0.000062
20   2.300  0.001910  0.000092
21   3.390  0.006630  0.000043
22   3.830  0.003100  0.000040
23   5.360  0.008900  0.000044
24   6.450  0.006110  0.000036
25   7.540  0.014500  0.000087
26   8.200  0.008200  0.000037
27   9.290  0.019400  0.000128
28   9.950  0.011000  0.000060
29  11.500  0.031600  0.000156
30  12.300  0.023900  0.000073
31  13.200  0.056500  0.000230
32  13.700  0.029100  0.000081
33  15.200  0.051800  0.000119
34  16.500  0.024300  0.000156
35  17.800  0.047700  0.000073
36  18.300  0.035900  0.000230
37  19.100  0.070300  0.000081
38  20.000  0.048100  0.000119
```

```python
p1 = (ggplot(df_melt, aes(x='VIN(V)', y='value', color='Class')) +
      geom_line(size=1) +
      scale_x_continuous(breaks=np.arange(-20, 21, 5), limits=(-20, 20)) +
      scale_y_continuous(breaks=np.arange(0, 2.1, 0.5), limits=(0, 2)) +
      scale_color_manual(values=("# 36BED9", "# FF0000")) +
      theme_classic() +
      theme(text=element_text(size=12, colour="black"),
            panel_grid_major=element_line(color="# C7C7C7", linetype='--'),
            aspect_ratio=0.8,
            dpi=100,
            figure_size=(5, 5),
            legend_position=(0.8, 0.8),
            legend_background=element_rect(fill="none")))  # shape=21,color="black",fill="red",size=3,stroke=0.1
print(p1)
# p1.save("logarithmic_scale1.pdf")

```
```
<Figure size 500x402.597 with 1 Axes>
```

```python
p1 = (ggplot(df_melt, aes(x='VIN(V)', y='value', color='Class')) +
      geom_line(size=1) +
      scale_x_continuous(breaks=np.arange(-20, 21, 5), limits=(-20, 20)) +
      scale_y_log10(name='log(value)', limits=(0.00001, 10)) +
      scale_color_manual(values=("# 36BED9", "# FF0000")) +
      theme_classic() +
      theme(text=element_text(size=12, colour="black"),
            panel_grid_major=element_line(color="# C7C7C7", linetype='--'),
            aspect_ratio=0.8,
            dpi=100,
            figure_size=(5, 5),
            legend_position=(0.8, 0.8),
            legend_background=element_rect(fill="none")))  # shape=21,color="black",fill="red",size=3,stroke=0.1
print(p1)
# p1.save("logarithmic_scale2.pdf")

```
```
<Figure size 500x402.597 with 1 Axes>
```
