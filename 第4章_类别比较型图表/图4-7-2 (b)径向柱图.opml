<?xml version='1.0'?>
<opml version='2.0'>
  <head>
    <ownerEmail>
      quincy.zou@gmail.com
    </ownerEmail>
  </head>
  <body>
  <outline text="图4-7-2 (b)径向柱图&#10;" _note="import numpy as np&#10;from matplotlib import cm, colors&#10;from matplotlib import pyplot as plt&#10;from matplotlib.pyplot import figure, show, rc&#10;import pandas as pd&#10;&#10;plt.rcParams[&quot;patch.force_edgecolor&quot;] = True&#10;&#10;mydata = pd.DataFrame(dict(day=[&quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;, &quot;Sun&quot;],&#10;                           Peter=[10, 60, 50, 20, 10, 90, 30],&#10;                           Jack=[20, 50, 10, 10, 30, 60, 50],&#10;                           Eelin=[30, 50, 20, 40, 10, 40, 50]))&#10;&#10;n_row = mydata.shape[0]&#10;n_col = mydata.shape[1]&#10;angle = np.arange(0, 2*np.pi, 2*np.pi/n_row)&#10;# 绘制的数据&#10;&#10;cmap = cm.get_cmap('Reds', n_col)&#10;color = [colors.rgb2hex(cmap(i)[:3]) for i in range(cmap.N)]&#10;&#10;radius1 = np.array(mydata.Peter)&#10;radius2 = np.array(mydata.Jack)&#10;radius3 = np.array(mydata.Eelin)&#10;&#10;fig = figure(figsize=(4, 4), dpi=90)&#10;ax = fig.add_axes([0.1, 0.1, 0.8, 0.8], polar=True)&#10;&#10;# 方法用于设置角度偏离,参数值为弧度值数值&#10;ax.set_theta_offset(np.pi/2)&#10;# 当set_theta_direction的参数值为1,'counterclockwise'或者是'anticlockwise'的时候，正方向为逆时针；&#10;# 当set_theta_direction的参数值为-1或者是'clockwise'的时候，正方向为顺时针；&#10;ax.set_theta_direction(-1)&#10;# 方法用于设置极径标签显示位置,参数为标签所要显示在的角度&#10;ax.set_rlabel_position(360)&#10;&#10;&#10;barwidth1 = 0.2&#10;barwidth2 = 0.2&#10;plt.bar(angle, radius1, width=barwidth2, align=&quot;center&quot;,&#10;        color=color[0], edgecolor=&quot;k&quot;, alpha=1, label=&quot;Peter&quot;)&#10;plt.bar(angle+barwidth1, radius2, width=barwidth2, align=&quot;center&quot;,&#10;        color=color[1], edgecolor=&quot;k&quot;, alpha=1, label=&quot;Jack&quot;)&#10;plt.bar(angle+barwidth1*2, radius3, width=barwidth2, align=&quot;center&quot;,&#10;        color=color[2], edgecolor=&quot;k&quot;, alpha=1, label=&quot;Eelin&quot;)&#10;&#10;plt.legend(loc=&quot;center&quot;, bbox_to_anchor=(1.2, 0, 0, 1))&#10;&#10;plt.ylim(-30, 100)&#10;plt.xticks(angle+2*np.pi/n_row/4, labels=mydata.day, size=12)&#10;&#10;plt.yticks(np.arange(0, 101, 30), verticalalignment='center',&#10;           horizontalalignment='right')&#10;&#10;&#10;plt.grid(which='major', axis=&quot;x&quot;, linestyle='-',&#10;         linewidth='0.5', color='gray', alpha=0.5)&#10;plt.grid(which='major', axis=&quot;y&quot;, linestyle='-',&#10;         linewidth='0.5', color='gray', alpha=0.5)&#10;&#10;# fig.savefig('径向柱图2.pdf')&#10;&#10;```&#10;```&#10;&amp;lt;Figure size 360x360 with 1 Axes&amp;gt;&#10;```&#10;&#10;```python&#10;&#10;```&#10;&#10;" />
  </outline>
  </body>
</opml>