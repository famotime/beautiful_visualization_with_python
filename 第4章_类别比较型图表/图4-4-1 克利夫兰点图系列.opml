<?xml version='1.0'?>
<opml version='2.0'>
  <head>
    <ownerEmail>
      quincy.zou@gmail.com
    </ownerEmail>
  </head>
  <body>
  <outline text="图4-4-1 克利夫兰点图系列&#10;" _note="import pandas as pd&#10;import numpy as np&#10;from plotnine import *&#10;# from plotnine.data import *&#10;import matplotlib.pyplot as plt&#10;&#10;```&#10;">
    <outline text="(a)棒棒糖图&#10;" _note="df = pd.read_csv('DotPlots_Data.csv')&#10;&#10;df['sum'] = df.iloc[:, 1:3].apply(np.sum, axis=1)&#10;&#10;df = df.sort_values(by='sum', ascending=True)&#10;df['City'] = pd.Categorical(df['City'], categories=df['City'], ordered=True)&#10;df&#10;&#10;```&#10;```&#10;             City   Female     Male       sum&#10;5     Guadalajara   290.99   232.33    523.32&#10;15  San Francisco   392.54   351.76    744.30&#10;1      Bellingham   453.36   539.27    992.63&#10;21    Walla Walla   488.42   676.18   1164.60&#10;20       Victoria  1151.91  1250.12   2402.03&#10;9     Mexico City  1255.17  1233.14   2488.31&#10;22         Yakima  2158.89  2911.08   5069.97&#10;0        Acapulco  2565.51  2595.80   5161.31&#10;4         Camacho  3643.30  2154.15   5797.45&#10;10        Orizaba  3531.85  2713.37   6245.22&#10;13     San Andres  3458.54  4747.51   8206.05&#10;19      Vancouver  3973.95  4691.05   8665.00&#10;8          Merida  4770.14  3970.31   8740.45&#10;2   Beverly Hills  5050.46  5269.71  10320.17&#10;3       Bremerton  5269.89  5705.00  10974.89&#10;17        Spokane  5835.68  5398.36  11234.04&#10;6         Hidalgo  7361.04  3951.73  11312.77&#10;14      San Diego  5800.65  5569.12  11369.77&#10;11       Portland  5612.43  6314.17  11926.60&#10;16        Seattle  6561.90  5590.49  12152.39&#10;7     Los Angeles  6014.64  6281.53  12296.17&#10;18         Tacoma  8467.80  8363.35  16831.15&#10;12          Salem  9416.67  8795.17  18211.84&#10;```&#10;&#10;```python&#10;base_plot = (ggplot(df, aes('sum', 'City')) +&#10;             geom_segment(aes(x=0, xend='sum', y='City', yend='City')) +&#10;             geom_point(shape='o', size=3, colour=&quot;black&quot;, fill=&quot;# FC4E07&quot;) +&#10;             theme(&#10;    axis_title=element_text(size=12, face=&quot;plain&quot;, color=&quot;black&quot;),&#10;    axis_text=element_text(size=10, face=&quot;plain&quot;, color=&quot;black&quot;),&#10;    # legend_title=element_text(size=14,face=&quot;plain&quot;,color=&quot;black&quot;),&#10;    aspect_ratio=1.25,&#10;    figure_size=(4, 4),&#10;    dpi=100&#10;))&#10;&#10;print(base_plot)&#10;&#10;```&#10;```&#10;&amp;lt;Figure size 400x503.247 with 1 Axes&amp;gt;&#10;```&#10;" />
    <outline text="(b) 克利夫兰点图&#10;" _note="base_plot = (ggplot(df, aes('sum', 'City')) +&#10;&#10;             geom_point(shape='o', size=3, colour=&quot;black&quot;, fill=&quot;# FC4E07&quot;) +&#10;             theme(&#10;    axis_title=element_text(size=12, face=&quot;plain&quot;, color=&quot;black&quot;),&#10;    axis_text=element_text(size=10, face=&quot;plain&quot;, color=&quot;black&quot;),&#10;    # legend_title=element_text(size=14,face=&quot;plain&quot;,color=&quot;black&quot;),&#10;    aspect_ratio=1.25,&#10;    figure_size=(4, 4),&#10;    dpi=100&#10;))&#10;&#10;print(base_plot)&#10;&#10;```&#10;```&#10;&amp;lt;Figure size 400x503.247 with 1 Axes&amp;gt;&#10;```&#10;" />
    <outline text="(c) 哑铃图&#10;" _note="df = pd.read_csv('DotPlots_Data.csv')&#10;&#10;df = df.sort_values(by='Female', ascending=True)&#10;df['City'] = pd.Categorical(df['City'], categories=df['City'], ordered=True)&#10;mydata = pd.melt(df, id_vars='City')&#10;&#10;base_plot = (ggplot(mydata, aes('value', 'City', fill='variable')) +&#10;             geom_line(aes(group='City')) +&#10;             geom_point(shape='o', size=3, colour=&quot;black&quot;) +&#10;             scale_fill_manual(values=(&quot;# 00AFBB&quot;, &quot;# FC4E07&quot;, &quot;# 36BED9&quot;)) +&#10;             theme(&#10;    axis_title=element_text(size=13, face=&quot;plain&quot;, color=&quot;black&quot;),&#10;    axis_text=element_text(size=10, face=&quot;plain&quot;, color=&quot;black&quot;),&#10;    legend_title=element_text(size=12, face=&quot;plain&quot;, color=&quot;black&quot;),&#10;    legend_text=element_text(size=10, face=&quot;plain&quot;, color=&quot;black&quot;),&#10;    legend_background=element_blank(),&#10;    legend_position=(0.75, 0.2),&#10;    aspect_ratio=1.25,&#10;    figure_size=(4, 4),&#10;    dpi=100&#10;))&#10;&#10;print(base_plot)&#10;&#10;```&#10;```&#10;&amp;lt;Figure size 400x503.247 with 1 Axes&amp;gt;&#10;```&#10;&#10;" />
    </outline>
  </outline>
  </body>
</opml>