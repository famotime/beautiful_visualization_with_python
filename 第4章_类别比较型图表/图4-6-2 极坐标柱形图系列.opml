<?xml version='1.0'?>
<opml version='2.0'>
  <head>
    <ownerEmail>
      quincy.zou@gmail.com
    </ownerEmail>
  </head>
  <body>
  <outline text="图4-6-2 极坐标柱形图系列&#10;" _note="import numpy as np&#10;from matplotlib import cm, colors&#10;from matplotlib import pyplot as plt&#10;from matplotlib.pyplot import figure, show, rc&#10;import pandas as pd&#10;plt.rcParams[&quot;patch.force_edgecolor&quot;] = True&#10;plt.rc('axes', axisbelow=True)&#10;&#10;```&#10;">
    <outline text="(a)单数据系列&#10;" _note="mydata = pd.DataFrame(dict(day=[&quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;, &quot;Sun&quot;],&#10;                           Price=[50, 60, 70, 20, 90, 110, 30]))&#10;n_row = mydata.shape[0]&#10;angle = np.arange(0, 2*np.pi, 2*np.pi/n_row)&#10;radius = np.array(mydata.Price)&#10;&#10;fig = figure(figsize=(4, 4), dpi=90)&#10;# 极坐标条形图，polar为True&#10;ax = fig.add_axes([0.1, 0.1, 0.8, 0.8], polar=True)&#10;&#10;# 方法用于设置角度偏离,参数值为弧度值数值&#10;ax.set_theta_offset(np.pi/2-np.pi/n_row)&#10;# 当set_theta_direction的参数值为1,'counterclockwise'或者是'anticlockwise'的时候，正方向为逆时针；&#10;# 当set_theta_direction的参数值为-1或者是'clockwise'的时候，正方向为顺时针；&#10;ax.set_theta_direction(-1)&#10;# 方法用于设置极径标签显示位置,参数为标签所要显示在的角度&#10;ax.set_rlabel_position(360-180/n_row)&#10;&#10;# plt.bar(angle,radius, color='# 70A6FF',edgecolor=&quot;k&quot;,width=0.90,alpha=0.9)&#10;plt.bar(angle, radius, color='# F9837A', edgecolor=&quot;k&quot;, width=0.90, alpha=0.9)&#10;# x轴坐标轴标签&#10;plt.xticks(angle, labels=mydata.day, size=12)&#10;# plt.ylim(-15,125)&#10;plt.ylim(0, 125)&#10;plt.yticks(np.arange(0, 120, 20), verticalalignment='center',&#10;           horizontalalignment='right')&#10;&#10;plt.grid(which='major', axis=&quot;x&quot;, linestyle='-',&#10;         linewidth='0.5', color='gray', alpha=0.5)&#10;plt.grid(which='major', axis=&quot;y&quot;, linestyle='-',&#10;         linewidth='0.5', color='gray', alpha=0.5)&#10;&#10;plt.show()&#10;# fig.savefig('极坐标图2.pdf')&#10;&#10;```&#10;```&#10;&amp;lt;Figure size 360x360 with 1 Axes&amp;gt;&#10;```&#10;" />
    <outline text="(b)单数据系列&#10;" _note="mydata = pd.DataFrame(dict(day=[&quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;, &quot;Sun&quot;],&#10;                           Price=[50, 60, 70, 20, 90, 110, 30]))&#10;n_row = mydata.shape[0]&#10;angle = np.arange(0, 2*np.pi, 2*np.pi/n_row)&#10;radius = np.array(mydata.Price)&#10;&#10;fig = figure(figsize=(4, 4), dpi=90)&#10;# 极坐标条形图，polar为True&#10;ax = fig.add_axes([0.1, 0.1, 0.8, 0.8], polar=True)&#10;&#10;# 方法用于设置角度偏离,参数值为弧度值数值&#10;ax.set_theta_offset(np.pi/2-np.pi/n_row)&#10;# 当set_theta_direction的参数值为1,'counterclockwise'或者是'anticlockwise'的时候，正方向为逆时针；&#10;# 当set_theta_direction的参数值为-1或者是'clockwise'的时候，正方向为顺时针；&#10;ax.set_theta_direction(-1)&#10;# 方法用于设置极径标签显示位置,参数为标签所要显示在的角度&#10;ax.set_rlabel_position(360-180/n_row)&#10;&#10;plt.bar(angle, radius, color='# 70A6FF', edgecolor=&quot;k&quot;, width=0.90, alpha=0.9)&#10;# plt.bar(angle,radius, color='# F9837A',edgecolor=&quot;k&quot;,width=0.90,alpha=0.9)&#10;# x轴坐标轴标签&#10;plt.xticks(angle, labels=mydata.day, size=12)&#10;plt.ylim(-15, 125)&#10;# plt.ylim(0,125)&#10;plt.yticks(np.arange(0, 120, 20), verticalalignment='center',&#10;           horizontalalignment='right')&#10;&#10;plt.grid(which='major', axis=&quot;x&quot;, linestyle='-',&#10;         linewidth='0.5', color='gray', alpha=0.5)&#10;plt.grid(which='major', axis=&quot;y&quot;, linestyle='-',&#10;         linewidth='0.5', color='gray', alpha=0.5)&#10;&#10;plt.show()&#10;&#10;```&#10;```&#10;&amp;lt;Figure size 360x360 with 1 Axes&amp;gt;&#10;```&#10;" />
    <outline text="(c)多数据系列&#10;" _note="mydata = pd.DataFrame(dict(day=[&quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;, &quot;Sun&quot;],&#10;                           Peter=[10, 60, 50, 20, 10, 90, 30],&#10;                           Jack=[20, 50, 10, 10, 30, 60, 50],&#10;                           Eelin=[30, 50, 20, 40, 10, 40, 50]))&#10;&#10;mydata['sum'] = mydata.iloc[:, 1:4].apply(np.sum, axis=1)&#10;&#10;mydata = mydata.sort_values(by='sum', ascending=False)  # .iloc[:,0:3]&#10;# df['City']=df['City'].astype(&quot;category&quot;,categories= df['City'],ordered=True)&#10;n_row = mydata.shape[0]&#10;n_col = mydata.shape[1]&#10;angle = np.arange(0, 2*np.pi, 2*np.pi/n_row)&#10;# 绘制的数据&#10;radius1 = np.array(mydata.Peter)&#10;radius2 = np.array(mydata.Jack)&#10;radius3 = np.array(mydata.Eelin)&#10;# 极坐标条形图，polar为True&#10;cmap = cm.get_cmap('Reds', n_col)&#10;color = [colors.rgb2hex(cmap(i)[:3]) for i in range(cmap.N)]&#10;&#10;&#10;fig = figure(figsize=(4, 4), dpi=90)&#10;ax = fig.add_axes([0.1, 0.1, 0.8, 0.8], polar=True)&#10;&#10;# 方法用于设置角度偏离,参数值为弧度值数值&#10;ax.set_theta_offset(np.pi/2-np.pi/n_row)&#10;# 当set_theta_direction的参数值为1,'counterclockwise'或者是'anticlockwise'的时候，正方向为逆时针；&#10;# 当set_theta_direction的参数值为-1或者是'clockwise'的时候，正方向为顺时针；&#10;ax.set_theta_direction(-1)&#10;# 方法用于设置极径标签显示位置,参数为标签所要显示在的角度&#10;ax.set_rlabel_position(360-180/n_row)&#10;&#10;p1 = plt.bar(angle, radius1,&#10;             color=color[0], edgecolor=&quot;k&quot;, width=0.90, alpha=0.9, label=&quot;Peter&quot;)&#10;p2 = plt.bar(angle, radius2, color=color[1], edgecolor=&quot;k&quot;,&#10;             width=0.90, bottom=radius1, alpha=0.9, label=&quot;Jack&quot;)&#10;p3 = plt.bar(angle, radius3, color=color[2], edgecolor=&quot;k&quot;,&#10;             width=0.90, bottom=radius1+radius2, alpha=0.9, label=&quot;Eelin&quot;)&#10;# p4 = plt.bar(ind, without, width, color=&quot;grey&quot;, bottom=deficient)&#10;&#10;# plt.bar(angle,radius, color='# F8766D',edgecolor=&quot;k&quot;,width=0.90)&#10;plt.legend(loc=&quot;center&quot;, bbox_to_anchor=(1.25, 0, 0, 1))&#10;&#10;plt.ylim(0, 225)&#10;plt.xticks(angle, labels=mydata.day, size=12)&#10;plt.yticks(np.arange(0, 201, 50), verticalalignment='center',&#10;           horizontalalignment='right')&#10;# plt.ylim(-25,225)&#10;# plt.yticks(np.arange(0,225,50))&#10;&#10;plt.grid(which='major', axis=&quot;x&quot;, linestyle='-',&#10;         linewidth='0.5', color='gray', alpha=0.5)&#10;plt.grid(which='major', axis=&quot;y&quot;, linestyle='-',&#10;         linewidth='0.5', color='gray', alpha=0.5)&#10;&#10;# fig.savefig('极坐标图3.pdf')&#10;&#10;```&#10;```&#10;&amp;lt;Figure size 360x360 with 1 Axes&amp;gt;&#10;```&#10;" />
    <outline text="(d)多数据系列&#10;" _note="mydata = pd.DataFrame(dict(day=[&quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;, &quot;Sun&quot;],&#10;                           Peter=[10, 60, 50, 20, 10, 90, 30],&#10;                           Jack=[20, 50, 10, 10, 30, 60, 50],&#10;                           Eelin=[30, 50, 20, 40, 10, 40, 50]))&#10;&#10;mydata['sum'] = mydata.iloc[:, 1:4].apply(np.sum, axis=1)&#10;&#10;mydata = mydata.sort_values(by='sum', ascending=False)  # .iloc[:,0:3]&#10;# df['City']=df['City'].astype(&quot;category&quot;,categories= df['City'],ordered=True)&#10;n_row = mydata.shape[0]&#10;n_col = mydata.shape[1]&#10;angle = np.arange(0, 2*np.pi, 2*np.pi/n_row)&#10;# 绘制的数据&#10;radius1 = np.array(mydata.Peter)&#10;radius2 = np.array(mydata.Jack)&#10;radius3 = np.array(mydata.Eelin)&#10;# 极坐标条形图，polar为True&#10;cmap = cm.get_cmap('Blues', n_col)&#10;color = [colors.rgb2hex(cmap(i)[:3]) for i in range(cmap.N)]&#10;&#10;&#10;fig = figure(figsize=(4, 4), dpi=90)&#10;ax = fig.add_axes([0.1, 0.1, 0.8, 0.8], polar=True)&#10;&#10;# 方法用于设置角度偏离,参数值为弧度值数值&#10;ax.set_theta_offset(np.pi/2-np.pi/n_row)&#10;# 当set_theta_direction的参数值为1,'counterclockwise'或者是'anticlockwise'的时候，正方向为逆时针；&#10;# 当set_theta_direction的参数值为-1或者是'clockwise'的时候，正方向为顺时针；&#10;ax.set_theta_direction(-1)&#10;# 方法用于设置极径标签显示位置,参数为标签所要显示在的角度&#10;ax.set_rlabel_position(360-180/n_row)&#10;&#10;p1 = plt.bar(angle, radius1,&#10;             color=color[0], edgecolor=&quot;k&quot;, width=0.90, alpha=0.9, label=&quot;Peter&quot;)&#10;p2 = plt.bar(angle, radius2, color=color[1], edgecolor=&quot;k&quot;,&#10;             width=0.90, bottom=radius1, alpha=0.9, label=&quot;Jack&quot;)&#10;p3 = plt.bar(angle, radius3, color=color[2], edgecolor=&quot;k&quot;,&#10;             width=0.90, bottom=radius1+radius2, alpha=0.9, label=&quot;Eelin&quot;)&#10;# p4 = plt.bar(ind, without, width, color=&quot;grey&quot;, bottom=deficient)&#10;&#10;# plt.bar(angle,radius, color='# F8766D',edgecolor=&quot;k&quot;,width=0.90)&#10;plt.legend(loc=&quot;center&quot;, bbox_to_anchor=(1.25, 0, 0, 1))&#10;&#10;# plt.ylim(0,225)&#10;plt.xticks(angle, labels=mydata.day, size=12)&#10;plt.yticks(np.arange(0, 201, 50), verticalalignment='center',&#10;           horizontalalignment='right')&#10;plt.ylim(-25, 225)&#10;# plt.yticks(np.arange(0,225,50))&#10;&#10;plt.grid(which='major', axis=&quot;x&quot;, linestyle='-',&#10;         linewidth='0.5', color='gray', alpha=0.5)&#10;plt.grid(which='major', axis=&quot;y&quot;, linestyle='-',&#10;         linewidth='0.5', color='gray', alpha=0.5)&#10;&#10;# fig.savefig('极坐标图3.pdf')&#10;&#10;```&#10;```&#10;&amp;lt;Figure size 360x360 with 1 Axes&amp;gt;&#10;```&#10;&#10;" />
    </outline>
  </outline>
  </body>
</opml>