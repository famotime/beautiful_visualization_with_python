<?xml version='1.0'?>
<opml version='2.0'>
  <head>
    <ownerEmail>
      quincy.zou@gmail.com
    </ownerEmail>
  </head>
  <body>
  <outline text="图9-4-2. 横向树形图&#10;" _note="import scipy.cluster.hierarchy as shc&#10;import numpy as np&#10;from matplotlib import cm, colors&#10;from matplotlib import pyplot as plt&#10;import pandas as pd&#10;from plotnine.data import mtcars&#10;from sklearn.preprocessing import scale&#10;plt.rcParams['axes.facecolor'] = 'w'&#10;plt.rc('axes', axisbelow=True)&#10;&#10;&#10;df = mtcars.set_index('name')&#10;df.loc[:, :] = scale(df.values)&#10;df&#10;&#10;```&#10;```&#10;                          mpg       cyl      disp        hp      drat  \&#10;name                                                                    &#10;Mazda RX4            0.153299 -0.106668 -0.579750 -0.543655  0.576594   &#10;Mazda RX4 Wag        0.153299 -0.106668 -0.579750 -0.543655  0.576594   &#10;Datsun 710           0.456737 -1.244457 -1.006026 -0.795570  0.481584   &#10;Hornet 4 Drive       0.220730 -0.106668  0.223615 -0.543655 -0.981576   &#10;Hornet Sportabout   -0.234427  1.031121  1.059772  0.419550 -0.848562   &#10;Valiant             -0.335572 -0.106668 -0.046906 -0.617748 -1.589643   &#10;Duster 360          -0.976163  1.031121  1.059772  1.456847 -0.734549   &#10;Merc 240D            0.726459 -1.244457 -0.688779 -1.254944  0.177551   &#10;Merc 230             0.456737 -1.244457 -0.737144 -0.765933  0.614599   &#10;Merc 280            -0.150138 -0.106668 -0.517448 -0.351014  0.614599   &#10;Merc 280C           -0.386145 -0.106668 -0.517448 -0.351014  0.614599   &#10;Merc 450SE          -0.622152  1.031121  0.369533  0.493642 -1.000578   &#10;Merc 450SL          -0.470433  1.031121  0.369533  0.493642 -1.000578   &#10;Merc 450SLC         -0.824444  1.031121  0.369533  0.493642 -1.000578   &#10;Cadillac Fleetwood  -1.633610  1.031121  1.977904  0.864106 -1.266608   &#10;Lincoln Continental -1.633610  1.031121  1.879533  1.012291 -1.133593   &#10;Chrysler Imperial   -0.908732  1.031121  1.715580  1.234569 -0.696545   &#10;Fiat 128             2.075070 -1.244457 -1.246216 -1.195670  0.918632   &#10;Honda Civic          1.737917 -1.244457 -1.270809 -1.403130  2.533809   &#10;Toyota Corolla       2.327934 -1.244457 -1.308518 -1.210489  1.184661   &#10;Toyota Corona        0.237587 -1.244457 -0.906835 -0.736296  0.196553   &#10;Dodge Challenger    -0.773871  1.031121  0.715472  0.049086 -1.589643   &#10;AMC Javelin         -0.824444  1.031121  0.600705  0.049086 -0.848562   &#10;Camaro Z28          -1.144739  1.031121  0.977795  1.456847  0.253559   &#10;Pontiac Firebird    -0.150138  1.031121  1.387676  0.419550 -0.981576   &#10;Fiat X1-9            1.215330 -1.244457 -1.243757 -1.195670  0.918632   &#10;Porsche 914-2        0.996181 -1.244457 -0.905195 -0.825207  1.583705   &#10;Lotus Europa         1.737917 -1.244457 -1.111775 -0.499199  0.329567   &#10;Ford Pantera L      -0.723298  1.031121  0.985993  1.738399  1.184661   &#10;Ferrari Dino        -0.065850 -0.106668 -0.702714  0.419550  0.044536   &#10;Maserati Bora       -0.858159  1.031121  0.576113  2.790515 -0.107481   &#10;Volvo 142E           0.220730 -1.244457 -0.899457 -0.558473  0.975638   &#10;&#10;                           wt      qsec        vs        am      gear  \&#10;name                                                                    &#10;Mazda RX4           -0.620167 -0.789601 -0.881917  1.208941  0.430331   &#10;Mazda RX4 Wag       -0.355382 -0.471202 -0.881917  1.208941  0.430331   &#10;Datsun 710          -0.931678  0.432823  1.133893  1.208941  0.430331   &#10;Hornet 4 Drive      -0.002336  0.904736  1.133893 -0.827170 -0.946729   &#10;Hornet Sportabout    0.231297 -0.471202 -0.881917 -0.827170 -0.946729   &#10;Valiant              0.252064  1.348220  1.133893 -0.827170 -0.946729   &#10;Duster 360           0.366285 -1.142114 -0.881917 -0.827170 -0.946729   &#10;Merc 240D           -0.028296  1.223135  1.133893 -0.827170  0.430331   &#10;Merc 230            -0.069830  2.871986  1.133893 -0.827170  0.430331   &#10;Merc 280             0.231297  0.256567  1.133893 -0.827170  0.430331   &#10;Merc 280C            0.231297  0.597708  1.133893 -0.827170  0.430331   &#10;Merc 450SE           0.885470 -0.255145 -0.881917 -0.827170 -0.946729   &#10;Merc 450SL           0.532424 -0.141432 -0.881917 -0.827170 -0.946729   &#10;Merc 450SLC          0.584343  0.085996 -0.881917 -0.827170 -0.946729   &#10;Cadillac Fleetwood   2.110747  0.074625 -0.881917 -0.827170 -0.946729   &#10;Lincoln Continental  2.291423 -0.016346 -0.881917 -0.827170 -0.946729   &#10;Chrysler Imperial    2.209392 -0.243774 -0.881917 -0.827170 -0.946729   &#10;Fiat 128            -1.056282  0.921793  1.133893  1.208941  0.430331   &#10;Honda Civic         -1.663729  0.381652  1.133893  1.208941  0.430331   &#10;Toyota Corolla      -1.435287  1.166278  1.133893  1.208941  0.430331   &#10;Toyota Corona       -0.781114  1.228820  1.133893 -0.827170 -0.946729   &#10;Dodge Challenger     0.314367 -0.556487 -0.881917 -0.827170 -0.946729   &#10;AMC Javelin          0.226105 -0.312002 -0.881917 -0.827170 -0.946729   &#10;Camaro Z28           0.646645 -1.386598 -0.881917 -0.827170 -0.946729   &#10;Pontiac Firebird     0.651837 -0.454145 -0.881917 -0.827170 -0.946729   &#10;Fiat X1-9           -1.331450  0.597708  1.133893  1.208941  0.430331   &#10;Porsche 914-2       -1.118584 -0.653144 -0.881917  1.208941  1.807392   &#10;Lotus Europa        -1.769642 -0.539430  1.133893  1.208941  1.807392   &#10;Ford Pantera L      -0.049063 -1.903996 -0.881917  1.208941  1.807392   &#10;Ferrari Dino        -0.464411 -1.335427 -0.881917  1.208941  1.807392   &#10;Maserati Bora        0.366285 -1.847139 -0.881917  1.208941  1.807392   &#10;Volvo 142E          -0.454027  0.427138  1.133893  1.208941  0.430331   &#10;&#10;                         carb  &#10;name                           &#10;Mazda RX4            0.746967  &#10;Mazda RX4 Wag        0.746967  &#10;Datsun 710          -1.140108  &#10;Hornet 4 Drive      -1.140108  &#10;Hornet Sportabout   -0.511083  &#10;Valiant             -1.140108  &#10;Duster 360           0.746967  &#10;Merc 240D           -0.511083  &#10;Merc 230            -0.511083  &#10;Merc 280             0.746967  &#10;Merc 280C            0.746967  &#10;Merc 450SE           0.117942  &#10;Merc 450SL           0.117942  &#10;Merc 450SLC          0.117942  &#10;Cadillac Fleetwood   0.746967  &#10;Lincoln Continental  0.746967  &#10;Chrysler Imperial    0.746967  &#10;Fiat 128            -1.140108  &#10;Honda Civic         -0.511083  &#10;Toyota Corolla      -1.140108  &#10;Toyota Corona       -1.140108  &#10;Dodge Challenger    -0.511083  &#10;AMC Javelin         -0.511083  &#10;Camaro Z28           0.746967  &#10;Pontiac Firebird    -0.511083  &#10;Fiat X1-9           -1.140108  &#10;Porsche 914-2       -0.511083  &#10;Lotus Europa        -0.511083  &#10;Ford Pantera L       0.746967  &#10;Ferrari Dino         2.005017  &#10;Maserati Bora        3.263067  &#10;Volvo 142E          -0.511083  &#10;```&#10;">
    <outline text="横向树形图&#10;" _note="fig = plt.figure(figsize=(10, 10), dpi=80)&#10;dend = shc.dendrogram(shc.linkage(df, method='ward'), orientation='left',&#10;                      labels=list(df.index.values), color_threshold=5&#10;                      )&#10;plt.xticks(fontsize=13, rotation=0)&#10;plt.yticks(fontsize=14)&#10;# plt.grid(color='gray',which='major', axis='x',linestyle='--')&#10;&#10;ax = plt.gca()&#10;ax.spines['left'].set_color('none')&#10;ax.spines['right'].set_color('none')&#10;ax.spines['top'].set_color('k')&#10;ax.spines['bottom'].set_color('k')&#10;&#10;# plt.savefig('树状图1.pdf')&#10;plt.show()&#10;&#10;```&#10;```&#10;&amp;lt;Figure size 800x800 with 1 Axes&amp;gt;&#10;```&#10;" />
    <outline text="纵向树形图&#10;" _note="fig = plt.figure(figsize=(5, 5), dpi=80)&#10;# plt.title(&quot;USArrests Dendograms&quot;, fontsize=22)&#10;dend = shc.dendrogram(shc.linkage(df.values.T, method='ward'), orientation='top',&#10;                      labels=list(df.columns.values), color_threshold=5,&#10;                      )&#10;plt.xticks(fontsize=13, rotation=0)&#10;plt.yticks(fontsize=14)&#10;# plt.grid(color='gray',which='major', axis='y',linestyle='--')&#10;&#10;ax = plt.gca()&#10;ax.spines['left'].set_color('k')&#10;ax.spines['right'].set_color('k')&#10;ax.spines['top'].set_color('none')&#10;ax.spines['bottom'].set_color('none')&#10;&#10;# plt.savefig('树状图2.pdf')&#10;plt.show()&#10;&#10;```&#10;```&#10;&amp;lt;Figure size 400x400 with 1 Axes&amp;gt;&#10;```&#10;&#10;```python&#10;&#10;```&#10;&#10;" />
    </outline>
  </outline>
  </body>
</opml>