# 图9-5-3  平行坐标系图

```python
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from pandas.plotting import parallel_coordinates, andrews_curves
from sklearn.preprocessing import scale


df = pd.read_csv('Parallel_Coordinates_Data.csv')

df['Class'] = ["Class1" if d > 523 else "Class2" for d in df['reading']]

df.iloc[:, range(0, df.shape[1]-1)
        ] = scale(df.iloc[:, range(0, df.shape[1]-1)])
df

```
```
     reading      math   writing  percent graduates\nsat  pupil staff\nratio  \
0  -0.815598 -0.575961 -0.715953                0.289180            0.110940   
1   0.576560  0.336096  0.724859               -1.014058           -0.666884   
2  -0.343259 -0.551311 -0.741681                0.289180            0.110940   
3  -0.442698 -0.428060 -0.613037               -0.379147            1.731405   
4   0.949459  0.829100  0.904960               -1.080890           -0.602065   
5  -0.840457 -0.625262 -0.587309                0.389429            2.055498   
6   0.850019  0.903051  0.879231               -0.579645            0.240577   
7  -0.616718 -0.625262 -0.227106                1.525585           -0.731702   
8  -0.964757 -0.995015 -0.947512                1.124589            0.110940   
9  -1.685696 -2.153574 -1.539273                1.391919           -0.926158   
10 -0.915037 -0.995015 -1.050427                0.723592            0.240577   
11 -1.089057 -1.167566 -1.076155                1.124589           -0.472428   
12 -1.362516 -0.896414 -1.333443                0.690176            0.370214   
13  0.178800  0.040294 -0.021276               -0.646478            1.472130   
14  1.347218  1.617906  1.599637               -1.047474            1.407312   
15 -0.939897 -0.773163 -1.050427                0.857258           -0.148335   
16  1.894137  1.889059  1.728281               -1.147723           -0.602065   
17  1.173198  1.248153  1.110790               -1.014058            0.564670   
18  0.974319  0.853750  1.033604               -1.014058           -0.731702   
19  0.725719  0.483997  0.879231               -1.014058           -0.602065   
20 -1.635976 -1.759171 -1.693646                1.759499           -1.833619   
21 -0.840457 -0.896414 -0.664495                1.057756           -0.342791   
22 -0.492418 -0.304809 -0.278563                1.559001            0.046121   
23  1.247778  1.593256  1.393807               -1.080890            0.240577   
24  1.521238  1.741157  1.470993               -1.014058           -0.018698   
25  0.825159  0.385396  0.982146               -1.114307           -0.537247   
26  1.521238  1.519306  1.625366               -1.080890           -0.537247   
27  0.178800  0.089594 -0.047004               -0.512812           -0.213154   
28  1.322358  1.371404  1.316620               -1.114307           -0.666884   
29 -0.815598 -0.822463 -1.076155                0.155515            2.833321   
30 -0.268679 -0.378760 -0.278563                1.258254           -0.990977   
31 -0.939897 -0.625262 -0.638766                1.291670           -0.537247   
32  0.477120  0.188195  0.338927               -0.880392           -0.472428   
33 -1.213357 -0.896414 -1.101884                1.592417           -0.213154   
34 -0.964757 -0.674562 -1.050427                0.857258           -0.277972   
35  1.396938  1.346754  1.162248               -1.147723           -0.990977   
36  0.079361  0.188195  0.055911               -0.512812           -0.148335   
37  1.024039  0.804450  0.930689               -1.080890           -0.213154   
38 -0.268679 -0.329459 -0.561580                0.489678            0.694307   
39 -1.014477 -0.921064 -0.973240                1.124589           -0.407609   
40 -0.890177 -1.044315 -0.690224                0.957507            0.435033   
41 -1.188497 -1.044315 -1.307714                0.990923            1.990679   
42  1.372078  1.519306  1.239434               -1.147723           -0.407609   
43  0.924599  0.656549  1.136519               -0.913809           -0.083516   
44 -1.188497 -0.797813 -1.179070                0.456262           -0.213154   
45  0.626279  0.483997  0.493300               -1.047474            2.703684   
46 -0.392978 -0.502011 -0.381479                0.890674           -1.833619   
47 -0.566998 -0.649912 -0.587309                1.024340           -1.120614   
48 -0.243819 -0.181558 -0.355750                0.523094            1.407312   
49 -0.566998 -0.921064 -0.561580               -0.646478           -0.213154   
50  1.496378  1.716507  1.573908               -1.080890            0.370214   
51  0.825159  0.730499  0.750587               -1.080890           -1.379888   

    dropout\nrate   Class  
0        0.176386  Class2  
1       -0.976986  Class1  
2        1.769136  Class2  
3        1.933903  Class2  
4        0.286230  Class1  
5        0.780532  Class2  
6        1.549446  Class1  
7       -1.086830  Class2  
8        0.780532  Class2  
9        1.659291  Class2  
10      -0.153149  Class2  
11       0.286230  Class2  
12       0.725610  Class2  
13      -0.812218  Class1  
14      -0.043304  Class1  
15      -0.757296  Class2  
16      -0.976986  Class1  
17      -0.757296  Class1  
18      -0.592529  Class1  
19       1.824058  Class1  
20       0.670687  Class2  
21      -0.153149  Class2  
22      -0.153149  Class2  
23       1.824058  Class1  
24      -0.592529  Class1  
25       0.121463  Class1  
26      -0.208072  Class1  
27      -0.208072  Class1  
28      -0.702373  Class1  
29       0.231308  Class2  
30      -0.482684  Class2  
31      -1.141753  Class2  
32       1.110067  Class1  
33       0.670687  Class2  
34       0.890377  Class2  
35      -0.976986  Class1  
36       0.231308  Class1  
37      -0.317916  Class1  
38       0.286230  Class2  
39      -2.789426  Class2  
40       0.945300  Class2  
41      -0.098227  Class2  
42      -0.098227  Class1  
43      -0.537606  Class1  
44      -0.043304  Class2  
45      -0.537606  Class1  
46      -2.789426  Class2  
47      -0.812218  Class2  
48       0.560843  Class1  
49      -0.043304  Class2  
50      -1.031908  Class1  
51       0.560843  Class1  
```

```python
fig = plt.figure(figsize=(5.5, 4.5), dpi=100)
parallel_coordinates(df, 'Class', color=["# 45BFFC", "# 90C539"], linewidth=1)

plt.grid(b=0, which='both', axis='both')

plt.legend(loc="center right",
           bbox_to_anchor=(1.25, 0, 0, 1), edgecolor='none', facecolor='none', title='Group')

ax = plt.gca()
ax.xaxis.set_ticks_position('top')
ax.spines['top'].set_color('none')
ax.spines['bottom'].set_color('none')
plt.show()

```
```
<Figure size 550x450 with 1 Axes>
```
