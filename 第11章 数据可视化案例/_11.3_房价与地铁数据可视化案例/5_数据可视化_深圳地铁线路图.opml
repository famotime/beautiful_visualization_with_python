<?xml version='1.0'?>
<opml version='2.0'>
  <head>
    <ownerEmail>
      quincy.zou@gmail.com
    </ownerEmail>
  </head>
  <body>
  <outline text="5_数据可视化_深圳地铁线路图&#10;" _note="import pandas as pd&#10;import numpy as np&#10;from plotnine import *&#10;from plotnine.data import *&#10;&#10;&#10;file = open('ShenzhenSubway_StationHousingPrice.csv')&#10;mydata_station=pd.read_csv(file)&#10;&#10;file = open('ShenzhenSubway_Path.csv')&#10;mydata_Path=pd.read_csv(file)&#10;&#10;mydata_Path['Subway_Num']=pd.Categorical(mydata_Path['Subway_Num'])&#10;mydata_station['Subway_Num']=pd.Categorical(mydata_station['Subway_Num'])&#10;&#10;```&#10;&#10;```python&#10;# ------------------------------------图11-3-3. 深圳市示意地铁线路图.----------------------------------------------&#10;base_plot=(ggplot()+&#10;  geom_path (mydata_Path,aes(x='x',y='y',group='Subway_Num',colour='Subway_Num'), size=1)+&#10;  geom_point(mydata_station,aes(x='x',y='y',group='Subway_Num',colour='Subway_Num'),shape='o',size=3,fill=&quot;white&quot;)+&#10;  xlab(&quot;long&quot;)+&#10;  ylab(&quot;lat&quot;))&#10;&#10;print(base_plot)&#10;&#10;```&#10;&#10;```python&#10;# ----------------------------------图11-3-9. 深圳市地铁线路房价分布图.----------------------------------------------&#10;Price_max=np.max(mydata_station['Unit_Price']) # 89503.92558&#10;Price_min=np.min(mydata_station['Unit_Price'])&#10;&#10;mydata_station['Unit_Price2']=pd.cut(mydata_station['Unit_Price'],&#10;              bins=[0,30000,40000,50000,60000,70000,80000,90000],&#10;              labels=[&quot; &amp;lt;=30000&quot;,&quot;30000~40000&quot;,&quot;40000~50000&quot;,&quot;50000~60000&quot;,&quot;60000~70000&quot;,&quot;70000~80000&quot;,&quot;80000~90000&quot;])&#10;&#10;base_plot=(ggplot()+&#10;  geom_path (mydata_Path,aes(x='x',y='y',group='Subway_Num',colour='Subway_Num'), size=1)+&#10;  geom_point(mydata_station,aes(x='x',y='y',group='Subway_Num2',size='Unit_Price2',fill='Unit_Price2'),shape='o')+&#10;  # guides(fill = guide_legend((title=&quot;二手房均价(平方米)&quot;)),&#10;  # size = guide_legend((title=&quot;二手房均价(平方米)&quot;)))+&#10;  theme_void()+&#10;  theme(&#10;    figure_size = (11, 11),&#10;    dpi = 58&#10;))&#10;print(base_plot)&#10;&#10;```&#10;&#10;```python&#10;# -------------------------------------图11-3-8. 楼盘分布散点地图.--------------------------------------------------&#10;file = open('ShenzhenHousing_Price_WithLocation.csv')&#10;mydata_house=pd.read_csv(file)&#10;file.close()&#10;base_plot=(ggplot()+&#10;  geom_point(mydata_house,aes(x='longitude',y='latitude',fill='unit_price'),shape='o',size=1,alpha=0.8,color='none')+&#10;  geom_path (mydata_station,aes(x='long',y='lat',group='Subway_Num'), size=0.5,linejoin = &quot;bevel&quot;, lineend = &quot;square&quot;)+&#10;  geom_point(mydata_station,aes(x='long',y='lat'),shape='o',size=2,fill=&quot;white&quot;,color='black',stroke=0.1)+&#10;  scale_fill_cmap(name = 'RdYlGn')+&#10;  xlab(&quot;long&quot;)+&#10;  ylab(&quot;lat&quot;))&#10;print(base_plot)&#10;&#10;```&#10;&#10;" />
  </outline>
  </body>
</opml>